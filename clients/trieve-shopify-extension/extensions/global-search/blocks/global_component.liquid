<link
  rel="stylesheet"
  href="https://cdn.trieve.ai/beta/search-component/index.css"
/>

<script type="module">
  import {renderToDiv} from 'https://cdn.trieve.ai/beta/search-component/vanilla/index.js';
  const root = document.createElement('div');
  document.body.appendChild(root);

  renderToDiv(root, {
    apiKey: "tr-6PMi6K7zGqOIrMcMKuA0d4RGNLRMomJc",
    datasetId: "94ad9127-8d76-46ed-ba8d-cc471059aa57",
    baseUrl: "https://api.trieve.ai",
    type: "ecommerce",
    analytics: true,
    useGroupSearch: true,
    zIndex: 21474830000000,
    allowSwitchingModes: true,
    scaleRem: true,
    cssRelease: "none",
    defaultSearchMode: "chat",

    brandLogoImgSrcUrl: "https://findvectorlogo.com/wp-content/uploads/2019/03/graphtech-guitar-labs-vector-logo.png",
    floatingSearchIconPosition: "{{ block.settings.floating_icon_pos }}",
    brandName: "{{ block.settings.brand_name }}",
    brandColor: "{{ block.settings.brand_color }}",
    showFloatingSearchIcon: "{{ block.settings.floating_search_icon  }}", 
    showFloatingInput: "{{ block.settings.floating_search_bar }}"
  });
</script>

{% comment %}
  see more about the schema section here. https://shopify.dev/docs/storefronts/themes/architecture/sections/section-schema#schema

  If the input is not valid json, it will not work
{% endcomment %}
{% schema %}
{
  "name": "Trieve Global component",
  "target": "body",
  "settings": [
    { "type": "color", "id": "brand_color", "label": "Brand Color", "default": "#ff0000" },
    { "type": "text", "id": "brand_name", "label": "Brand Name", "default": "TrieveAi" },
    { "type": "checkbox", "id": "floating_search_icon", "label": "Show Floating Search Icon", "default": true },
    { "type": "checkbox", "id": "floating_search_bar", "label": "Show Floating Search Bar", "default": true },
    { "type": "select", "id": "floating_icon_pos", "label": "Floating Icon Position", "options": [{"label": "Left", "value": "left"}, {"label": "Right", "value": "right"}] },
  ]
}
{% endschema %}
